(function(){"use strict";var t={5242:function(t,e,n){n.d(e,{h:function(){return jt}});var s=n(1020),i={getPlaylists:t=>t.playlists,getFirstPlaylist:t=>t.playlists[0].playlist,getCurrentVideo:t=>t.currentVideo,getVideoById:t=>e=>0===t.currentPlaylist.length?{}:t.currentPlaylist.find((t=>t.videoId===e)),getCurrentIndex:t=>t.currentIndex,getVideoByIndex:t=>e=>t.currentPlaylist[e]};const o={syncPlaylist(t=0){if(0!==this.playlists.length){if(this.currentPlaylist=[...this.playlists[t].playlist],!this.currentVideo.videoId){const t=l(0,this.currentPlaylist.length);this.changeVideoByIndex(t)}}else console.warn("no playlists ):")},setCurrentPlaylist(t){this.currentPlaylist=t},clearPlaylist(){this.currentPlaylist=[]},shuffleCurrentPlaylist(){this.currentPlaylist=r(this.currentPlaylist),this.currentIndex=0,this.changeVideoByIndex(this.currentIndex)},changeVideoByIndex(t=0){let e;0!==this.currentPlaylist.length?(t<this.currentPlaylist.length?(e=this.currentPlaylist[t],this.currentIndex=t):(e=this.currentPlaylist[0],this.currentIndex=0),this.currentVideo=e):console.warn("out of songs!")},changeCurrentVideoByVideo(t){t&&0!==Object.keys(t).length||console.warn("no video provided"),this.currentVideo=t},removeVideoByVideoId(t){const e=this.currentPlaylist.find((e=>e.videoId===t)),n=this.currentPlaylist.indexOf(e);n>=0&&this.currentPlaylist.splice(n,1)},addVideoToEnd(t){const e={...t};this.currentPlaylist=[...this.currentPlaylist,e]},addVideoToFirst(t){this.currentPlaylist=[t,...this.currentPlaylist]},loadPlaylistWithPayload(t){t.items.forEach((t=>{const e=this.currentPlaylist.some((e=>e.videoId===t.contentDetails.videoId));if(!e){const e={videoId:t.contentDetails.videoId,name:t.snippet.title};"Private video"!==e.name&&"Deleted video"!==e.name&&this.addVideoToEnd(e)}}))}};function l(t=0,e){return e||console.warn("max warning"),Math.floor(Math.random()*(e-t)+t)}function r(t){const e=[...t];for(let n=e.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1)),s=e[t];e[t]=e[n],e[n]=s}return e}const a={playlists:[{id:1,name:"first playlist",playlist:[{videoId:"16y1AkoZkmQ",name:"Rasputin"},{videoId:"Qaar0K5ThcM",name:"Let's stay the same"},{videoId:"pnjRMmrGEjU",name:"Younger you"},{videoId:"lxF31-mHLz0",name:"Questions"}]}],currentPlaylist:[],currentVideo:{videoId:"",name:""},currentIndex:0},u=(0,s.Q_)("playlist",{state:()=>a,getters:i,actions:o}),c={toggleAutopause(){this.autopause=!this.autopause}},d={autopause:!0,devMode:!1},y=(0,s.Q_)("settings",{state:()=>d,actions:c});var p={install:(t,e)=>{const n=u(),s=y(),i={playlist:n,setting:s};i.playlist.$subscribe(((t,e)=>{const n=e.currentPlaylist;0!==n.length&&localStorage.setItem("currentPlaylist",JSON.stringify(n))})),t.config.globalProperties.$store=i}},h=n(9242),f=(n(9773),n(8727)),v=n(8211),m=n(8600),P=n(3396),g=n(7139);const I={class:"app",id:"app"},w={class:"youtube-app-container"};function V(t,e,n,s,i,o){const l=(0,P.up)("youtube-controller"),r=(0,P.up)("v-switch"),a=(0,P.up)("youtube-video"),u=(0,P.up)("side-bar-menu");return(0,P.wg)(),(0,P.iD)("div",I,[(0,P._)("div",w,[(0,P.Wm)(l,{class:"controller"}),(0,P.Wm)(r,{class:(0,g.C_)(["switch-style",{activated:i.isPlaylistOn}]),modelValue:i.isPlaylistOn,"onUpdate:modelValue":e[0]||(e[0]=t=>i.isPlaylistOn=t),label:i.isPlaylistOn?"Playlist On":"Playlist Off"},null,8,["modelValue","label","class"]),(0,P._)("h3",null,"Current Video: "+(0,g.zw)(t.currentVideo.name),1),(0,P.Wm)(a,{class:"video",videoId:o.videoId},null,8,["videoId"]),(0,P.Wm)(u,{class:"side-bar-menu",isPlaylistOn:i.isPlaylistOn},null,8,["isPlaylistOn"])])])}const b=t=>((0,P.dD)("data-v-847d0f3e"),t=t(),(0,P.Cn)(),t),_={class:"youtube-player",tabindex:"-1"},O=b((()=>(0,P._)("div",{id:"player",tabindex:"-1"},null,-1))),C=[O];function k(t,e,n,s,i,o){return(0,P.wg)(),(0,P.iD)("div",_,C)}function A(t){console.log(t);const e={name:t.items[0].snippet.title,videoId:t.items[0].id};jt.playlist.changeCurrentVideoByVideo(e)}function L(t){const e=t.items[0].id,n={name:t.items[0].snippet.title,videoId:e},s=jt.playlist.getVideoById(e);s&&Object.keys(s).length?console.warn("Duplicate video!"):jt.playlist.addVideoToEnd(n)}function x(){if(!jt.playlist.currentPlaylist.length)return void console.warn("empty playlist");const t=jt.playlist.getCurrentIndex,e=jt.playlist.getCurrentVideo,n=jt.playlist.getVideoByIndex(t);e.videoId!==n.videoId?jt.playlist.changeVideoByIndex(t):jt.playlist.changeVideoByIndex(t+1)}function E(){if(!jt.playlist.currentPlaylist.length)return void console.warn("empty playlist");if(1===!jt.playlist.currentPlaylist.length)return void console.warn("only one video in playlist");const t=jt.playlist.getCurrentIndex;0!==t&&jt.playlist.changeVideoByIndex(t-1)}const S={GOOGLE_ERROR:"GOOGLE ERROR",INVALID:"INVALID",VALID:"VALID"},D=50,U="",Y=11,T="www.",B="https://",R="queue",N="play_next",W="play_now",j="play_previous",M="load_playlist",G={QUEUE:R,PLAY_NEXT:N,PLAY_NOW:W,LOAD_PLAYLIST:M,PLAY_PREVIOUS:j},$={[G.PLAY_NOW]:A,[G.PLAY_NEXT]:x,[G.PLAY_PREVIOUS]:E,[G.QUEUE]:L},z="yox2Yz4Ni2o";var Q={name:"YoutubeVideo",data(){return{player:null}},computed:{...(0,s.rn)(y,["autopause"]),isYoutubePlayerInstalled(){return window.YT&&window.YT.loaded}},props:{videoId:{type:String,default:""}},mounted(){this.loadYoutubePlayer(),addEventListener("resize",(()=>{this.player.setSize(.75*self.innerWidth,.75*self.innerHeight)}))},methods:{loadYouTubeAPI(){const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";const e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)},loadYoutubePlayer(){this.isYoutubePlayerInstalled||this.loadYouTubeAPI();const t=this.videoId||z;window.onYouTubeIframeAPIReady=()=>{const e={height:.75*self.innerHeight,width:.75*self.innerWidth,videoId:t,playerVars:{controls:1,rel:0,autoplay:this.autopause?0:1,origin:"https://www.youtube.com"},events:{onReady:this.onPlayerReady,onStateChange:this.onPlayerStateChange,onApiChange:this.onApiChange}};this.player=new YT.Player("player",e)}},onPlayerStateChange(t){0===t.data&&(console.warn("Video Ended"),$[G.PLAY_NEXT]())},onPlayerReady(){console.log("Player Ready")},onVideoIdChange(){this.player||this.loadYoutubePlayer(),this.autopause?this.player.cueVideoById(this.videoId):this.player.loadVideoById(this.videoId)}},watch:{videoId(){this.onVideoIdChange()}}},X=n(89);const H=(0,X.Z)(Q,[["render",k],["__scopeId","data-v-847d0f3e"]]);var F=H;const Z={class:"youtube-configurator"},q={class:"input-container"},J={class:"controller-buttons"},K={class:"play-buttons"};function tt(t,e,n,s,i,o){const l=(0,P.up)("v-text-field"),r=(0,P.up)("v-btn"),a=(0,P.up)("v-switch");return(0,P.wg)(),(0,P.iD)("div",Z,[(0,P._)("div",q,[(0,P.Wm)(l,{class:"input-style",modelValue:i.userInput,"onUpdate:modelValue":e[0]||(e[0]=t=>i.userInput=t),label:"Enter a URL or video ID",onKeyup:e[1]||(e[1]=(0,h.D2)((t=>o.processAction(i.controllerOptions.PLAY_NOW)),["enter"])),color:"purple",clearable:"","hide-details":"auto"},null,8,["modelValue"]),(0,P._)("div",J,[(0,P.Wm)(r,{class:"add-style btn-style",onClick:e[2]||(e[2]=t=>o.processAction(i.controllerOptions.PLAY_NOW))},{default:(0,P.w5)((()=>[(0,P.Uk)("Play now")])),_:1}),(0,P.Wm)(r,{class:"add-style btn-style",onClick:o.onLoadPlaylist},{default:(0,P.w5)((()=>[(0,P.Uk)("Load Playlist")])),_:1},8,["onClick"]),(0,P.Wm)(r,{class:"add-style btn-style",onClick:e[3]||(e[3]=t=>o.processAction(i.controllerOptions.QUEUE))},{default:(0,P.w5)((()=>[(0,P.Uk)("Queue Song")])),_:1})])]),(0,P.Wm)(a,{class:(0,g.C_)(["switch-style",{activated:t.autopause}]),modelValue:t.autopause,"onUpdate:modelValue":e[4]||(e[4]=e=>t.autopause=e),label:t.autopause?"Autopause On":"Autopause Off",onClick:o.onSwitchClick},null,8,["modelValue","label","class","onClick"]),t.devMode?((0,P.wg)(),(0,P.j4)(r,{key:0,class:"btn-style",onClick:o.onSyncPlaylist},{default:(0,P.w5)((()=>[(0,P.Uk)("Sync Playlist")])),_:1},8,["onClick"])):(0,P.kq)("",!0),(0,P._)("div",K,[(0,P.Wm)(r,{class:"btn-style",onClick:o.onGoBack,disabled:o.isCurrentPlaylistEmpty},{default:(0,P.w5)((()=>[(0,P.Uk)("Play Previous")])),_:1},8,["onClick","disabled"]),(0,P.Wm)(r,{class:"btn-style",onClick:o.onPlayNext,disabled:o.isCurrentPlaylistEmpty},{default:(0,P.w5)((()=>[(0,P.Uk)("Play Next")])),_:1},8,["onClick","disabled"])])])}var et=n(165),nt=n(3104),st=n(5101);function it(t){if(ut(t))return U;if(!ct(t))return t.length===Y?t:U;const e=at(t).then((t=>t)).catch((t=>{console.error(t)}));if(!e)return U;const n=rt(t);return n}function ot(t){if(ut(t))return U;if(!ct(t))return t.length>25?t:U;const e=at(t).then((t=>t)).catch((t=>{console.error(t)}));if(!e)return U;const n=lt(t);return n}function lt(t){let e=t;e.includes(T)||(e=T+e),e.includes(B)||(e=B+e);const n=new URL(e).searchParams,s=n.get("list");return s}function rt(t){let e=t;e.includes(T)||(e=T+e),e.includes(B)||(e=B+e);const n=new URL(e).searchParams,s=n.get("v");return s}async function at(t){try{const e=t.includes(T)?t.indexOf(T)+T.length:0;let n=t.substring(e,t.indexOf("/",e));const s=["youtube.com","m.youtube.com","youtu.be"];n.includes(B)||(n=B+n);const i=new URL(n),o=i.hostname;let l=!1;return s.every((t=>{if(o===t)return l=!0,!1})),l}catch(e){return!1}}function ut(t){return t.includes(".ca")||t.includes(".net")||t.includes(".gg")||t.includes(".txt")||t.includes(".gov")||t.includes(".io")||t.includes(".org")||t.includes(".us")}function ct(t){return t.includes(".com")||t.includes(".be")}const dt="AIzaSyDC5m0zYh3K6erncCUBGw9AXhAAf4wV8o8";function yt(t="lxF31-mHLz0"){return new Promise((e=>{const n=t,s=new XMLHttpRequest;s.open("GET","https://www.googleapis.com/youtube/v3/videos?part=snippet,contentDetails,statistics&id="+n+"&key="+dt,!0),s.onreadystatechange=()=>{if(s.readyState===s.DONE){const t=ht(s);e(t)}},s.send()}))}function pt(t){return new Promise((e=>{const n=t,s=new XMLHttpRequest;s.open("GET","https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,contentDetails&playlistId="+n+"&key="+dt+"&maxResults="+D,!0),s.onreadystatechange=()=>{if(s.readyState===s.DONE){const t=ht(s);e(t)}},s.send()}))}function ht(t){if(!t||t.status<200||t.status>=500)return S.GOOGLE_ERROR;if(400===t.status)return S.INVALID;const e=JSON.parse(t.responseText);if(e.items&&e.items.length){const t={status:S.VALID,items:e.items};return t}return{status:S.INVALID}}var ft={components:{VTextField:et.h,VSwitch:nt.G,VBtn:st.T},emits:["toggle-switch","mouseleave"],data(){return{key:0,userInput:"",controllerOptions:G}},computed:{...(0,s.rn)(y,["autopause","devMode"]),...(0,s.rn)(u,["currentPlaylist"]),hasInput(){return this.userInput&&this.userInput.replace(/\s/g,"").length},isCurrentPlaylistEmpty(){return 0===this.currentPlaylist.length}},methods:{async processAction(t){const e=this.userInput;this.userInput="";const n=await this.processVideoInput(e);n&&n.status===S.VALID&&$[t](n)},async onLoadPlaylist(){if(!this.hasInput)return void console.warn("no input");const t=this.userInput;this.userInput="";const e=this.processPlaylistInput(t),n=await pt(e);n.status===S.VALID&&this.$store.playlist.loadPlaylistWithPayload(n)},onSyncPlaylist(){this.$store.playlist.syncPlaylist()},onPlayNext(){$[G.PLAY_NEXT]()},onGoBack(){$[G.PLAY_PREVIOUS]()},processPlaylistInput(t){const e=ot(t);return e||(console.warn("INVALID INPUT"),null)},async processVideoInput(t){const e=it(t);if(!e)return console.warn("improper videoId"),null;const n=await yt(e);return n},onSwitchClick(){this.$store.setting.toggleAutopause()}}};const vt=(0,X.Z)(ft,[["render",tt],["__scopeId","data-v-5660ef77"]]);var mt=vt;function Pt(t,e,n,s,i,o){const l=(0,P.up)("v-btn"),r=(0,P.up)("song-list"),a=(0,P.up)("v-navigation-drawer"),u=(0,P.up)("v-layout");return(0,P.wg)(),(0,P.j4)(u,null,{default:(0,P.w5)((()=>[(0,P.Wm)(a,{class:"drawer-style",modelValue:i.drawer,"onUpdate:modelValue":e[0]||(e[0]=t=>i.drawer=t),location:"left","disable-resize-watcher":"",width:"380"},{default:(0,P.w5)((()=>[(0,P.Wm)(l,{class:"btn-style",onClick:o.onClearPlaylist},{default:(0,P.w5)((()=>[(0,P.Uk)("Clear Playlist")])),_:1},8,["onClick"]),(0,P.Wm)(l,{class:"btn-style",onClick:o.onShufflePlaylist},{default:(0,P.w5)((()=>[(0,P.Uk)("Shuffle Playlist")])),_:1},8,["onClick"]),(0,P.Wm)(r)])),_:1},8,["modelValue"])])),_:1})}var gt=n(9657),It=n(4454),wt=n(1489);const Vt={class:"song-list"},bt={class:"songs"},_t={class:"song"},Ot={class:"controls"};function Ct(t,e,n,s,i,o){const l=(0,P.up)("v-divider"),r=(0,P.up)("v-chip"),a=(0,P.up)("v-btn");return(0,P.wg)(),(0,P.iD)("div",Vt,[((0,P.wg)(!0),(0,P.iD)(P.HY,null,(0,P.Ko)(t.currentPlaylist,((e,n)=>((0,P.wg)(),(0,P.iD)("div",bt,[(0,P._)("div",_t,[0!==n?((0,P.wg)(),(0,P.j4)(l,{key:0})):(0,P.kq)("",!0),(0,P._)("div",{class:(0,g.C_)(["name",{current:t.currentVideo.videoId===e.videoId}])},(0,g.zw)(e.name),3)]),(0,P._)("div",Ot,[(0,P.Wm)(r,{class:"remove-button",onClick:t=>o.onDelete(e),color:"red"},{default:(0,P.w5)((()=>[(0,P.Uk)("X")])),_:2},1032,["onClick"]),(0,P.Wm)(a,{class:"play-button",onClick:t=>o.onPlay(e)},{default:(0,P.w5)((()=>[(0,P.Uk)("Play")])),_:2},1032,["onClick"])])])))),256))])}var kt=n(4075),At=n(1037),Lt={components:{VDivider:kt.J,VBtn:st.T,VChip:At.v},computed:{...(0,s.rn)(u,["currentPlaylist","currentVideo","currentPlaylist"])},methods:{onDelete(t){this.$store.playlist.removeVideoByVideoId(t.videoId)},onPlay(t){this.$store.playlist.changeCurrentVideoByVideo(t)}}};const xt=(0,X.Z)(Lt,[["render",Ct],["__scopeId","data-v-7c327d86"]]);var Et=xt,St={components:{VNavigationDrawer:gt.V,VLayout:It.s,SongList:Et,VCard:wt._,VBtn:st.T},data(){return{drawer:this.isPlaylistOn}},props:{isPlaylistOn:{type:Boolean,default:!1}},methods:{onClearPlaylist(){this.$store.playlist.clearPlaylist(),sessionStorage.removeItem("currentPlaylist")},onShufflePlaylist(){this.$store.playlist.shuffleCurrentPlaylist()}},watch:{isPlaylistOn(){this.drawer=!this.drawer}}};const Dt=(0,X.Z)(St,[["render",Pt],["__scopeId","data-v-32143f9f"]]);var Ut=Dt,Yt={name:"App",components:{YoutubeVideo:F,YoutubeController:mt,VSwitch:nt.G,SideBarMenu:Ut},data(){return{isDebuggerOn:!1,isPlaylistOn:!1}},computed:{...(0,s.rn)(u,["currentVideo"])},mounted(){const t=JSON.parse(localStorage.getItem("currentPlaylist"));t&&this.$store.playlist.setCurrentPlaylist(t)},methods:{onSubmit(t){const e=videoIdParser(t);fetchVideoInformation(e).then((t=>{t===YOUTUBE_API_CODES.VALID&&(this.onValidIdSubmission(),this.videoId=e)}))}},computed:{...(0,s.rn)(u,["currentVideo"]),videoId(){return this.currentVideo.videoId}}};const Tt=(0,X.Z)(Yt,[["render",V],["__scopeId","data-v-7074bc77"]]);var Bt=Tt;const Rt=(0,h.ri)(Bt),Nt=(0,s.WB)(),Wt=(0,f.Rd)({vuetifyComponents:v,vuetifyDirectives:m});Rt.use(Nt),Rt.use(p),Rt.use(Wt),Rt.mount("#app");const jt=Rt.config.globalProperties.$store}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var o=e[s]={exports:{}};return t[s].call(o.exports,o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,s,i,o){if(!s){var l=1/0;for(c=0;c<t.length;c++){s=t[c][0],i=t[c][1],o=t[c][2];for(var r=!0,a=0;a<s.length;a++)(!1&o||l>=o)&&Object.keys(n.O).every((function(t){return n.O[t](s[a])}))?s.splice(a--,1):(r=!1,o<l&&(l=o));if(r){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[s,i,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,o,l=s[0],r=s[1],a=s[2],u=0;if(l.some((function(e){return 0!==t[e]}))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(a)var c=a(n)}for(e&&e(s);u<l.length;u++)o=l[u],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(c)},s=self["webpackChunkthe_center"]=self["webpackChunkthe_center"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(5242)}));s=n.O(s)})();
//# sourceMappingURL=app.288265cb.js.map